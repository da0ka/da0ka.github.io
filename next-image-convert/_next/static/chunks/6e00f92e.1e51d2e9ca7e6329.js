"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{189:(e,r,t)=>{var n,o=Object.defineProperty,a=Object.getOwnPropertyNames,i={};((e,r)=>{for(var t in r)o(e,t,{get:r[t],enumerable:!0})})(i,{default:()=>n});var s=((e,r)=>function(){return e&&(r=(0,e[a(e)[0]])(e=0)),r})({"dist/esm/libImage.js"(){var e;e="file:///vercel/path0/next-image-convert/node_modules/.pnpm/wasm-image-optimization@1.2.28/node_modules/wasm-image-optimization/dist/esm/next-web-worker.js",n=async function(r={}){var n,o,a,i,s,u,l,d,c,m,f,h,p,v,w,g,y,E,k,b,_,F,P,C,A,S=new Promise((e,r)=>{n=e,o=r}),D=Object.assign({},r),x="./this.program",M=(e,r)=>{throw r},L="";"undefined"!=typeof document&&document.currentScript&&(L=document.currentScript.src),e&&(L=e),L=L.startsWith("blob:")?"":L.slice(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),a=async e=>{var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw Error(r.status+" : "+r.url)};var T=r.print||console.log.bind(console),z=r.printErr||console.error.bind(console);Object.assign(r,D),D=null,r.arguments&&r.arguments,r.thisProgram&&(x=r.thisProgram);var R=r.wasmBinary,N=!1;function O(){var e=s.buffer;r.HEAP8=l=new Int8Array(e),r.HEAP16=c=new Int16Array(e),r.HEAPU8=d=new Uint8Array(e),r.HEAPU16=m=new Uint16Array(e),r.HEAP32=f=new Int32Array(e),r.HEAPU32=h=new Uint32Array(e),r.HEAPF32=p=new Float32Array(e),r.HEAPF64=g=new Float64Array(e),r.HEAP64=v=new BigInt64Array(e),r.HEAPU64=w=new BigUint64Array(e)}var I=0,j=null;function U(e){I++,r.monitorRunDependencies?.(I)}function B(e){if(I--,r.monitorRunDependencies?.(I),0==I&&j){var t=j;j=null,t()}}function $(e){r.onAbort?.(e),z(e="Aborted("+e+")"),N=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw o(t),t}async function W(e){if(!R)try{var r=await a(e);return new Uint8Array(r)}catch{}return function(e){if(e==y&&R)return new Uint8Array(R);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}(e)}async function q(e,r){try{var t=await W(e);return await WebAssembly.instantiate(t,r)}catch(e){z(`failed to asynchronously prepare wasm: ${e}`),$(e)}}async function Y(e,r,t){if(!e&&"function"==typeof WebAssembly.instantiateStreaming)try{var n=fetch(r,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,t)}catch(e){z(`wasm streaming compile failed: ${e}`),z("falling back to ArrayBuffer instantiation")}return q(r,t)}async function X(){function e(e,r){return s=(rM=e.exports).ea,O(),_=rM.ga,B("wasm-instantiate"),rM}U("wasm-instantiate");var n,a={a:rx};if(r.instantiateWasm)return new Promise((t,n)=>{r.instantiateWasm(a,(r,n)=>{e(r,n),t(r.exports)})});y??=function(){if(r.locateFile){var e;return e="libImage.wasm",r.locateFile?r.locateFile(e,L):L+e}return new t.U(t(9476)).href}();try{return n=await Y(R,y,a),e(n.instance)}catch(e){return o(e),Promise.reject(e)}}class H{name="ExitStatus";constructor(e){this.message=`Program terminated with exit(${e})`,this.status=e}}var V=e=>{for(;e.length>0;)e.shift()(r)},G=[],K=e=>G.unshift(e),J=[],Q=e=>J.unshift(e),Z=r.noExitRuntime||!0,ee=e=>rO(e),er=()=>rI(),et="undefined"!=typeof TextDecoder?new TextDecoder:void 0,en=(e,r=0,t=NaN)=>{for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.buffer&&et)return et.decode(e.subarray(r,o));for(var a="";r<o;){var i=e[r++];if(!(128&i)){a+=String.fromCharCode(i);continue}var s=63&e[r++];if((224&i)==192){a+=String.fromCharCode((31&i)<<6|s);continue}var u=63&e[r++];if((i=(240&i)==224?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[r++])<65536)a+=String.fromCharCode(i);else{var l=i-65536;a+=String.fromCharCode(55296|l>>10,56320|1023&l)}}return a},eo=(e,r)=>e?en(d,e,r):"";class ea{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){h[this.ptr+4>>2]=e}get_type(){return h[this.ptr+4>>2]}set_destructor(e){h[this.ptr+8>>2]=e}get_destructor(){return h[this.ptr+8>>2]}set_caught(e){e=+!!e,l[this.ptr+12]=e}get_caught(){return 0!=l[this.ptr+12]}set_rethrown(e){e=+!!e,l[this.ptr+13]=e}get_rethrown(){return 0!=l[this.ptr+13]}init(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)}set_adjusted_ptr(e){h[this.ptr+16>>2]=e}get_adjusted_ptr(){return h[this.ptr+16>>2]}}var ei=0,es=0,eu=()=>{var e=f[+eD.varargs>>2];return eD.varargs+=4,e},el={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=el.isAbs(e),t="/"===e.slice(-1);return(e=el.normalizeArray(e.split("/").filter(e=>!!e),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=el.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.slice(0,-1)),t+n):"."},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>el.normalize(e.join("/")),join2:(e,r)=>el.normalize(e+"/"+r)},ed=()=>e=>crypto.getRandomValues(e),ec=e=>{(ec=ed())(e)},em={resolve:(...e)=>{for(var r="",t=!1,n=e.length-1;n>=-1&&!t;n--){var o=n>=0?e[n]:eS.cwd();if("string"!=typeof o)throw TypeError("Arguments to path.resolve must be strings");if(!o)return"";r=o+"/"+r,t=el.isAbs(o)}return r=el.normalizeArray(r.split("/").filter(e=>!!e),!t).join("/"),(t?"/":"")+r||"."},relative:(e,r)=>{function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=em.resolve(e).slice(1),r=em.resolve(r).slice(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}for(var u=[],s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},ef=[],eh=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},ep=(e,r,t,n)=>{if(!(n>0))return 0;for(var o=t,a=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(t>=a)break;r[t++]=s}else if(s<=2047){if(t+1>=a)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(t+2>=a)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(t+3>=a)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-o},ev=(e,r,t)=>{var n=Array(t>0?t:eh(e)+1),o=ep(e,n,0,n.length);return r&&(n.length=o),n},ew=()=>{if(!ef.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n"),!e)return null;ef=ev(e,!0)}return ef.shift()},eg={ttys:[],init(){},shutdown(){},register(e,r){eg.ttys[e]={input:[],output:[],ops:r},eS.registerDevice(e,eg.stream_ops)},stream_ops:{open(e){var r=eg.ttys[e.node.rdev];if(!r)throw new eS.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new eS.ErrnoError(60);for(var a,i=0,s=0;s<n;s++){try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new eS.ErrnoError(29)}if(void 0===a&&0===i)throw new eS.ErrnoError(6);if(null==a)break;i++,r[t+s]=a}return i&&(e.node.atime=Date.now()),i},write(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new eS.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new eS.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),a}},default_tty_ops:{get_char:e=>ew(),put_char(e,r){null===r||10===r?(T(en(e.output)),e.output=[]):0!=r&&e.output.push(r)},fsync(e){e.output?.length>0&&(T(en(e.output)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,r,t)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,r){null===r||10===r?(z(en(e.output)),e.output=[]):0!=r&&e.output.push(r)},fsync(e){e.output?.length>0&&(z(en(e.output)),e.output=[])}}},ey=(e,r)=>Math.ceil(e/r)*r,eE=e=>{$()},ek={ops_table:null,mount:e=>ek.createNode(null,"/",16895,0),createNode(e,r,t,n){if(eS.isBlkdev(t)||eS.isFIFO(t))throw new eS.ErrnoError(63);ek.ops_table||={dir:{node:{getattr:ek.node_ops.getattr,setattr:ek.node_ops.setattr,lookup:ek.node_ops.lookup,mknod:ek.node_ops.mknod,rename:ek.node_ops.rename,unlink:ek.node_ops.unlink,rmdir:ek.node_ops.rmdir,readdir:ek.node_ops.readdir,symlink:ek.node_ops.symlink},stream:{llseek:ek.stream_ops.llseek}},file:{node:{getattr:ek.node_ops.getattr,setattr:ek.node_ops.setattr},stream:{llseek:ek.stream_ops.llseek,read:ek.stream_ops.read,write:ek.stream_ops.write,allocate:ek.stream_ops.allocate,mmap:ek.stream_ops.mmap,msync:ek.stream_ops.msync}},link:{node:{getattr:ek.node_ops.getattr,setattr:ek.node_ops.setattr,readlink:ek.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ek.node_ops.getattr,setattr:ek.node_ops.setattr},stream:eS.chrdev_stream_ops}};var o=eS.createNode(e,r,t,n);return eS.isDir(o.mode)?(o.node_ops=ek.ops_table.dir.node,o.stream_ops=ek.ops_table.dir.stream,o.contents={}):eS.isFile(o.mode)?(o.node_ops=ek.ops_table.file.node,o.stream_ops=ek.ops_table.file.stream,o.usedBytes=0,o.contents=null):eS.isLink(o.mode)?(o.node_ops=ek.ops_table.link.node,o.stream_ops=ek.ops_table.link.stream):eS.isChrdev(o.mode)&&(o.node_ops=ek.ops_table.chrdev.node,o.stream_ops=ek.ops_table.chrdev.stream),o.atime=o.mtime=o.ctime=Date.now(),e&&(e.contents[r]=o,e.atime=e.mtime=e.ctime=o.atime),o},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r){if(0==r)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}}},node_ops:{getattr(e){var r={};return r.dev=eS.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,eS.isDir(e.mode)?r.size=4096:eS.isFile(e.mode)?r.size=e.usedBytes:eS.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.atime),r.mtime=new Date(e.mtime),r.ctime=new Date(e.ctime),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){for(let t of["mode","atime","mtime","ctime"])null!=r[t]&&(e[t]=r[t]);void 0!==r.size&&ek.resizeFileStorage(e,r.size)},lookup(e,r){throw ek.doesNotExistError},mknod:(e,r,t,n)=>ek.createNode(e,r,t,n),rename(e,r,t){var n;try{n=eS.lookupNode(r,t)}catch(e){}if(n){if(eS.isDir(e.mode))for(var o in n.contents)throw new eS.ErrnoError(55);eS.hashRemoveNode(n)}delete e.parent.contents[e.name],r.contents[t]=e,e.name=t,r.ctime=r.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,r){delete e.contents[r],e.ctime=e.mtime=Date.now()},rmdir(e,r){var t=eS.lookupNode(e,r);for(var n in t.contents)throw new eS.ErrnoError(55);delete e.contents[r],e.ctime=e.mtime=Date.now()},readdir:e=>[".","..",...Object.keys(e.contents)],symlink(e,r,t){var n=ek.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!eS.isLink(e.mode))throw new eS.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(i>8&&a.subarray)r.set(a.subarray(o,o+i),t);else for(var s=0;s<i;s++)r[t+s]=a[o+s];return i},write(e,r,t,n,o,a){if(r.buffer===l.buffer&&(a=!1),!n)return 0;var i=e.node;if(i.mtime=i.ctime=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=r.subarray(t,t+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===o)return i.contents=r.slice(t,t+n),i.usedBytes=n,n;if(o+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),o),n}if(ek.expandFileStorage(i,o+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&eS.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new eS.ErrnoError(28);return n},allocate(e,r,t){ek.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap(e,r,t,n,o){if(!eS.isFile(e.node.mode))throw new eS.ErrnoError(43);var a,i,s=e.node.contents;if(!(2&o)&&s&&s.buffer===l.buffer)i=!1,a=s.byteOffset;else{if(i=!0,!(a=eE(r)))throw new eS.ErrnoError(48);s&&((t>0||t+r<s.length)&&(s=s.subarray?s.subarray(t,t+r):Array.prototype.slice.call(s,t,t+r)),l.set(s,a))}return{ptr:a,allocated:i}},msync:(e,r,t,n,o)=>(ek.stream_ops.write(e,r,0,n,t,!1),0)}},eb=async e=>new Uint8Array(await a(e)),e_=(e,r,t,n,o,a)=>{eS.createDataFile(e,r,t,n,o,a)},eF=r.preloadPlugins||[],eP=(e,r,t,n)=>{void 0!==rE&&rE.init();var o=!1;return eF.forEach(a=>{!o&&a.canHandle(r)&&(a.handle(e,r,t,n),o=!0)}),o},eC=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===r)throw Error(`Unknown file open mode: ${e}`);return r},eA=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},eS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(e){this.errno=e}},FSStream:class{shared={};get object(){return this.node}set object(e){this.node=e}get isRead(){return(2097155&this.flags)!=1}get isWrite(){return(2097155&this.flags)!=0}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.id=eS.nextInode++,this.name=r,this.mode=t,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return eS.isDir(this.mode)}get isDevice(){return eS.isChrdev(this.mode)}},lookupPath(e,r={}){if(!e)throw new eS.ErrnoError(44);r.follow_mount??=!0,el.isAbs(e)||(e=eS.cwd()+"/"+e);e:for(var t=0;t<40;t++){for(var n=e.split("/").filter(e=>!!e),o=eS.root,a="/",i=0;i<n.length;i++){var s=i===n.length-1;if(s&&r.parent)break;if("."!==n[i]){if(".."===n[i]){a=el.dirname(a),o=o.parent;continue}a=el.join2(a,n[i]);try{o=eS.lookupNode(o,n[i])}catch(e){if(e?.errno===44&&s&&r.noent_okay)return{path:a};throw e}if(eS.isMountpoint(o)&&(!s||r.follow_mount)&&(o=o.mounted.root),eS.isLink(o.mode)&&(!s||r.follow)){if(!o.node_ops.readlink)throw new eS.ErrnoError(52);var u=o.node_ops.readlink(o);el.isAbs(u)||(u=el.dirname(a)+"/"+u),e=u+"/"+n.slice(i+1).join("/");continue e}}}return{path:a,node:o}}throw new eS.ErrnoError(32)},getPath(e){for(var r;;){if(eS.isRoot(e)){var t=e.mount.mountpoint;if(!r)return t;return"/"!==t[t.length-1]?`${t}/${r}`:t+r}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%eS.nameTable.length},hashAddNode(e){var r=eS.hashName(e.parent.id,e.name);e.name_next=eS.nameTable[r],eS.nameTable[r]=e},hashRemoveNode(e){var r=eS.hashName(e.parent.id,e.name);if(eS.nameTable[r]===e)eS.nameTable[r]=e.name_next;else for(var t=eS.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=eS.mayLookup(e);if(t)throw new eS.ErrnoError(t);for(var n=eS.hashName(e.id,r),o=eS.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===r)return o}return eS.lookup(e,r)},createNode(e,r,t,n){var o=new eS.FSNode(e,r,t,n);return eS.hashAddNode(o),o},destroyNode(e){eS.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(61440&e)==32768,isDir:e=>(61440&e)==16384,isLink:e=>(61440&e)==40960,isChrdev:e=>(61440&e)==8192,isBlkdev:e=>(61440&e)==24576,isFIFO:e=>(61440&e)==4096,isSocket:e=>(49152&e)==49152,flagsToPermissionString(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:(e,r)=>eS.ignorePermissions?0:r.includes("r")&&!(292&e.mode)||r.includes("w")&&!(146&e.mode)||r.includes("x")&&!(73&e.mode)?2:0,mayLookup(e){if(!eS.isDir(e.mode))return 54;var r=eS.nodePermissions(e,"x");return r||2*!e.node_ops.lookup},mayCreate(e,r){if(!eS.isDir(e.mode))return 54;try{return eS.lookupNode(e,r),20}catch(e){}return eS.nodePermissions(e,"wx")},mayDelete(e,r,t){try{n=eS.lookupNode(e,r)}catch(e){return e.errno}var n,o=eS.nodePermissions(e,"wx");if(o)return o;if(t){if(!eS.isDir(n.mode))return 54;if(eS.isRoot(n)||eS.getPath(n)===eS.cwd())return 10}else if(eS.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?eS.isLink(e.mode)?32:eS.isDir(e.mode)&&("r"!==eS.flagsToPermissionString(r)||576&r)?31:eS.nodePermissions(e,eS.flagsToPermissionString(r)):44,checkOpExists(e,r){if(!e)throw new eS.ErrnoError(r);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=eS.MAX_OPEN_FDS;e++)if(!eS.streams[e])return e;throw new eS.ErrnoError(33)},getStreamChecked(e){var r=eS.getStream(e);if(!r)throw new eS.ErrnoError(8);return r},getStream:e=>eS.streams[e],createStream:(e,r=-1)=>(e=Object.assign(new eS.FSStream,e),-1==r&&(r=eS.nextfd()),e.fd=r,eS.streams[r]=e,e),closeStream(e){eS.streams[e]=null},dupStream(e,r=-1){var t=eS.createStream(e,r);return t.stream_ops?.dup?.(t),t},doSetAttr(e,r,t){var n=e?.stream_ops.setattr,o=n?e:r;n??=r.node_ops.setattr,eS.checkOpExists(n,63),n(o,t)},chrdev_stream_ops:{open(e){e.stream_ops=eS.getDevice(e.node.rdev).stream_ops,e.stream_ops.open?.(e)},llseek(){throw new eS.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,r)=>e<<8|r,registerDevice(e,r){eS.devices[e]={stream_ops:r}},getDevice:e=>eS.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push(...n.mounts)}return r},syncfs(e,r){"function"==typeof e&&(r=e,e=!1),eS.syncFSRequests++,eS.syncFSRequests>1&&z(`warning: ${eS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=eS.getMounts(eS.root.mount),n=0;function o(e){return eS.syncFSRequests--,r(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=t.length&&o(null)}t.forEach(r=>{if(!r.type.syncfs)return a(null);r.type.syncfs(r,e,a)})},mount(e,r,t){var n,o="/"===t,a=!t;if(o&&eS.root)throw new eS.ErrnoError(10);if(!o&&!a){var i=eS.lookupPath(t,{follow_mount:!1});if(t=i.path,n=i.node,eS.isMountpoint(n))throw new eS.ErrnoError(10);if(!eS.isDir(n.mode))throw new eS.ErrnoError(54)}var s={type:e,opts:r,mountpoint:t,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?eS.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount(e){var r=eS.lookupPath(e,{follow_mount:!1});if(!eS.isMountpoint(r.node))throw new eS.ErrnoError(28);var t=r.node,n=t.mounted,o=eS.getMounts(n);Object.keys(eS.nameTable).forEach(e=>{for(var r=eS.nameTable[e];r;){var t=r.name_next;o.includes(r.mount)&&eS.destroyNode(r),r=t}}),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod(e,r,t){var n=eS.lookupPath(e,{parent:!0}).node,o=el.basename(e);if(!o)throw new eS.ErrnoError(28);if("."===o||".."===o)throw new eS.ErrnoError(20);var a=eS.mayCreate(n,o);if(a)throw new eS.ErrnoError(a);if(!n.node_ops.mknod)throw new eS.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},statfs:e=>eS.statfsNode(eS.lookupPath(e,{follow:!0}).node),statfsStream:e=>eS.statfsNode(e.node),statfsNode(e){var r={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:eS.nextInode,ffree:eS.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(r,e.node_ops.statfs(e.mount.opts.root)),r},create:(e,r=438)=>(r&=4095,r|=32768,eS.mknod(e,r,0)),mkdir:(e,r=511)=>(r&=1023,r|=16384,eS.mknod(e,r,0)),mkdirTree(e,r){for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{eS.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,r,t)=>(void 0===t&&(t=r,r=438),r|=8192,eS.mknod(e,r,t)),symlink(e,r){if(!em.resolve(e))throw new eS.ErrnoError(44);var t=eS.lookupPath(r,{parent:!0}).node;if(!t)throw new eS.ErrnoError(44);var n=el.basename(r),o=eS.mayCreate(t,n);if(o)throw new eS.ErrnoError(o);if(!t.node_ops.symlink)throw new eS.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename(e,r){var t,n,o,a,i=el.dirname(e),s=el.dirname(r),u=el.basename(e),l=el.basename(r);if(n=eS.lookupPath(e,{parent:!0}).node,o=eS.lookupPath(r,{parent:!0}).node,!n||!o)throw new eS.ErrnoError(44);if(n.mount!==o.mount)throw new eS.ErrnoError(75);var d=eS.lookupNode(n,u),c=em.relative(e,s);if("."!==c.charAt(0))throw new eS.ErrnoError(28);if("."!==(c=em.relative(r,i)).charAt(0))throw new eS.ErrnoError(55);try{a=eS.lookupNode(o,l)}catch(e){}if(d!==a){var m=eS.isDir(d.mode),f=eS.mayDelete(n,u,m);if(f||(f=a?eS.mayDelete(o,l,m):eS.mayCreate(o,l)))throw new eS.ErrnoError(f);if(!n.node_ops.rename)throw new eS.ErrnoError(63);if(eS.isMountpoint(d)||a&&eS.isMountpoint(a))throw new eS.ErrnoError(10);if(o!==n&&(f=eS.nodePermissions(n,"w")))throw new eS.ErrnoError(f);eS.hashRemoveNode(d);try{n.node_ops.rename(d,o,l),d.parent=o}catch(e){throw e}finally{eS.hashAddNode(d)}}},rmdir(e){var r=eS.lookupPath(e,{parent:!0}).node,t=el.basename(e),n=eS.lookupNode(r,t),o=eS.mayDelete(r,t,!0);if(o)throw new eS.ErrnoError(o);if(!r.node_ops.rmdir)throw new eS.ErrnoError(63);if(eS.isMountpoint(n))throw new eS.ErrnoError(10);r.node_ops.rmdir(r,t),eS.destroyNode(n)},readdir(e){var r=eS.lookupPath(e,{follow:!0}).node;return eS.checkOpExists(r.node_ops.readdir,54)(r)},unlink(e){var r=eS.lookupPath(e,{parent:!0}).node;if(!r)throw new eS.ErrnoError(44);var t=el.basename(e),n=eS.lookupNode(r,t),o=eS.mayDelete(r,t,!1);if(o)throw new eS.ErrnoError(o);if(!r.node_ops.unlink)throw new eS.ErrnoError(63);if(eS.isMountpoint(n))throw new eS.ErrnoError(10);r.node_ops.unlink(r,t),eS.destroyNode(n)},readlink(e){var r=eS.lookupPath(e).node;if(!r)throw new eS.ErrnoError(44);if(!r.node_ops.readlink)throw new eS.ErrnoError(28);return r.node_ops.readlink(r)},stat(e,r){var t=eS.lookupPath(e,{follow:!r}).node;return eS.checkOpExists(t.node_ops.getattr,63)(t)},fstat(e){var r=eS.getStreamChecked(e),t=r.node,n=r.stream_ops.getattr,o=n?r:t;return n??=t.node_ops.getattr,eS.checkOpExists(n,63),n(o)},lstat:e=>eS.stat(e,!0),doChmod(e,r,t,n){eS.doSetAttr(e,r,{mode:4095&t|-4096&r.mode,ctime:Date.now(),dontFollow:n})},chmod(e,r,t){var n;n="string"==typeof e?eS.lookupPath(e,{follow:!t}).node:e,eS.doChmod(null,n,r,t)},lchmod(e,r){eS.chmod(e,r,!0)},fchmod(e,r){var t=eS.getStreamChecked(e);eS.doChmod(t,t.node,r,!1)},doChown(e,r,t){eS.doSetAttr(e,r,{timestamp:Date.now(),dontFollow:t})},chown(e,r,t,n){var o;o="string"==typeof e?eS.lookupPath(e,{follow:!n}).node:e,eS.doChown(null,o,n)},lchown(e,r,t){eS.chown(e,r,t,!0)},fchown(e,r,t){var n=eS.getStreamChecked(e);eS.doChown(n,n.node,!1)},doTruncate(e,r,t){if(eS.isDir(r.mode))throw new eS.ErrnoError(31);if(!eS.isFile(r.mode))throw new eS.ErrnoError(28);var n=eS.nodePermissions(r,"w");if(n)throw new eS.ErrnoError(n);eS.doSetAttr(e,r,{size:t,timestamp:Date.now()})},truncate(e,r){if(r<0)throw new eS.ErrnoError(28);if("string"==typeof e){var t;t=eS.lookupPath(e,{follow:!0}).node}else t=e;eS.doTruncate(null,t,r)},ftruncate(e,r){var t=eS.getStreamChecked(e);if(r<0||(2097155&t.flags)==0)throw new eS.ErrnoError(28);eS.doTruncate(t,t.node,r)},utime(e,r,t){var n=eS.lookupPath(e,{follow:!0}).node;eS.checkOpExists(n.node_ops.setattr,63)(n,{atime:r,mtime:t})},open(e,t,n=438){if(""===e)throw new eS.ErrnoError(44);if(n=64&(t="string"==typeof t?eC(t):t)?4095&n|32768:0,"object"==typeof e)o=e;else{var o,a=e.endsWith("/"),i=eS.lookupPath(e,{follow:!(131072&t),noent_okay:!0});o=i.node,e=i.path}var s=!1;if(64&t){if(o){if(128&t)throw new eS.ErrnoError(20)}else if(a)throw new eS.ErrnoError(31);else o=eS.mknod(e,511|n,0),s=!0}if(!o)throw new eS.ErrnoError(44);if(eS.isChrdev(o.mode)&&(t&=-513),65536&t&&!eS.isDir(o.mode))throw new eS.ErrnoError(54);if(!s){var u=eS.mayOpen(o,t);if(u)throw new eS.ErrnoError(u)}512&t&&!s&&eS.truncate(o,0),t&=-131713;var l=eS.createStream({node:o,path:eS.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return l.stream_ops.open&&l.stream_ops.open(l),s&&eS.chmod(o,511&n),!r.logReadFiles||1&t||e in eS.readFiles||(eS.readFiles[e]=1),l},close(e){if(eS.isClosed(e))throw new eS.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{eS.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,r,t){if(eS.isClosed(e))throw new eS.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new eS.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new eS.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,o){if(n<0||o<0)throw new eS.ErrnoError(28);if(eS.isClosed(e)||(2097155&e.flags)==1)throw new eS.ErrnoError(8);if(eS.isDir(e.node.mode))throw new eS.ErrnoError(31);if(!e.stream_ops.read)throw new eS.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new eS.ErrnoError(70)}else o=e.position;var i=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=i),i},write(e,r,t,n,o,a){if(n<0||o<0)throw new eS.ErrnoError(28);if(eS.isClosed(e)||(2097155&e.flags)==0)throw new eS.ErrnoError(8);if(eS.isDir(e.node.mode))throw new eS.ErrnoError(31);if(!e.stream_ops.write)throw new eS.ErrnoError(28);e.seekable&&1024&e.flags&&eS.llseek(e,0,2);var i=void 0!==o;if(i){if(!e.seekable)throw new eS.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,r,t,n,o,a);return i||(e.position+=s),s},allocate(e,r,t){if(eS.isClosed(e))throw new eS.ErrnoError(8);if(r<0||t<=0)throw new eS.ErrnoError(28);if((2097155&e.flags)==0)throw new eS.ErrnoError(8);if(!eS.isFile(e.node.mode)&&!eS.isDir(e.node.mode))throw new eS.ErrnoError(43);if(!e.stream_ops.allocate)throw new eS.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap(e,r,t,n,o){if((2&n)!=0&&(2&o)==0&&(2097155&e.flags)!=2||(2097155&e.flags)==1)throw new eS.ErrnoError(2);if(!e.stream_ops.mmap)throw new eS.ErrnoError(43);if(!r)throw new eS.ErrnoError(28);return e.stream_ops.mmap(e,r,t,n,o)},msync:(e,r,t,n,o)=>e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0,ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new eS.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw Error(`Invalid encoding type "${r.encoding}"`);var t,n=eS.open(e,r.flags),o=eS.stat(e).size,a=new Uint8Array(o);return eS.read(n,a,0,o,0),"utf8"===r.encoding?t=en(a):"binary"===r.encoding&&(t=a),eS.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=eS.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(eh(r)+1),a=ep(r,o,0,o.length);eS.write(n,o,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))eS.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw Error("Unsupported data type");eS.close(n)},cwd:()=>eS.currentPath,chdir(e){var r=eS.lookupPath(e,{follow:!0});if(null===r.node)throw new eS.ErrnoError(44);if(!eS.isDir(r.node.mode))throw new eS.ErrnoError(54);var t=eS.nodePermissions(r.node,"x");if(t)throw new eS.ErrnoError(t);eS.currentPath=r.path},createDefaultDirectories(){eS.mkdir("/tmp"),eS.mkdir("/home"),eS.mkdir("/home/web_user")},createDefaultDevices(){eS.mkdir("/dev"),eS.registerDevice(eS.makedev(1,3),{read:()=>0,write:(e,r,t,n,o)=>n,llseek:()=>0}),eS.mkdev("/dev/null",eS.makedev(1,3)),eg.register(eS.makedev(5,0),eg.default_tty_ops),eg.register(eS.makedev(6,0),eg.default_tty1_ops),eS.mkdev("/dev/tty",eS.makedev(5,0)),eS.mkdev("/dev/tty1",eS.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(0===r&&(ec(e),r=e.byteLength),e[--r]);eS.createDevice("/dev","random",t),eS.createDevice("/dev","urandom",t),eS.mkdir("/dev/shm"),eS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){eS.mkdir("/proc");var e=eS.mkdir("/proc/self");eS.mkdir("/proc/self/fd"),eS.mount({mount(){var r=eS.createNode(e,"fd",16895,73);return r.stream_ops={llseek:ek.stream_ops.llseek},r.node_ops={lookup(e,r){var t=+r,n=eS.getStreamChecked(t),o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path},id:t+1};return o.parent=o,o},readdir:()=>Array.from(eS.streams.entries()).filter(([e,r])=>r).map(([e,r])=>e.toString())},r}},{},"/proc/self/fd")},createStandardStreams(e,r,t){e?eS.createDevice("/dev","stdin",e):eS.symlink("/dev/tty","/dev/stdin"),r?eS.createDevice("/dev","stdout",null,r):eS.symlink("/dev/tty","/dev/stdout"),t?eS.createDevice("/dev","stderr",null,t):eS.symlink("/dev/tty1","/dev/stderr"),eS.open("/dev/stdin",0),eS.open("/dev/stdout",1),eS.open("/dev/stderr",1)},staticInit(){eS.nameTable=Array(4096),eS.mount(ek,{},"/"),eS.createDefaultDirectories(),eS.createDefaultDevices(),eS.createSpecialDirectories(),eS.filesystems={MEMFS:ek}},init(e,t,n){eS.initialized=!0,e??=r.stdin,t??=r.stdout,n??=r.stderr,eS.createStandardStreams(e,t,n)},quit(){eS.initialized=!1;for(var e=0;e<eS.streams.length;e++){var r=eS.streams[e];r&&eS.close(r)}},findObject(e,r){var t=eS.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=eS.lookupPath(e,{follow:!r});e=t.path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=eS.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=el.basename(e),t=eS.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(e){n.error=e.errno}return n},createPath(e,r,t,n){e="string"==typeof e?e:eS.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var i=el.join2(e,a);try{eS.mkdir(i)}catch(e){if(20!=e.errno)throw e}e=i}}return i},createFile(e,r,t,n,o){var a=el.join2("string"==typeof e?e:eS.getPath(e),r),i=eA(n,o);return eS.create(a,i)},createDataFile(e,r,t,n,o,a){var i=r;e&&(e="string"==typeof e?e:eS.getPath(e),i=r?el.join2(e,r):e);var s=eA(n,o),u=eS.create(i,s);if(t){if("string"==typeof t){for(var l=Array(t.length),d=0,c=t.length;d<c;++d)l[d]=t.charCodeAt(d);t=l}eS.chmod(u,146|s);var m=eS.open(u,577);eS.write(m,t,0,t.length,0,a),eS.close(m),eS.chmod(u,s)}},createDevice(e,r,t,n){var o=el.join2("string"==typeof e?e:eS.getPath(e),r),a=eA(!!t,!!n);eS.createDevice.major??=64;var i=eS.makedev(eS.createDevice.major++,0);return eS.registerDevice(i,{open(e){e.seekable=!1},close(e){n?.buffer?.length&&n(10)},read(e,r,n,o,a){for(var i,s=0,u=0;u<o;u++){try{i=t()}catch(e){throw new eS.ErrnoError(29)}if(void 0===i&&0===s)throw new eS.ErrnoError(6);if(null==i)break;s++,r[n+u]=i}return s&&(e.node.atime=Date.now()),s},write(e,r,t,o,a){for(var i=0;i<o;i++)try{n(r[t+i])}catch(e){throw new eS.ErrnoError(29)}return o&&(e.node.mtime=e.node.ctime=Date.now()),i}}),eS.mkdev(o,a,i)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=i(e.url),e.usedBytes=e.contents.length}catch(e){throw new eS.ErrnoError(29)}},createLazyFile(e,r,t,n,o){if("undefined"!=typeof XMLHttpRequest){var a;throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc"}var a={isDevice:!1,url:t},i=eS.createFile(e,r,a,n,o);a.contents?i.contents=a.contents:a.url&&(i.contents=null,i.url=a.url),Object.defineProperties(i,{usedBytes:{get:function(){return this.contents.length}}});var s={};function u(e,r,t,n,o){var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)r[t+s]=a[o+s];else for(var s=0;s<i;s++)r[t+s]=a.get(o+s);return i}return Object.keys(i.stream_ops).forEach(e=>{var r=i.stream_ops[e];s[e]=(...e)=>(eS.forceLoadFile(i),r(...e))}),s.read=(e,r,t,n,o)=>(eS.forceLoadFile(i),u(e,r,t,n,o)),s.mmap=(e,r,t,n,o)=>{eS.forceLoadFile(i);var a=eE(r);if(!a)throw new eS.ErrnoError(48);return u(e,l,a,r,t),{ptr:a,allocated:!0}},i.stream_ops=s,i}},eD={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(el.isAbs(r))return r;if(-100===e)n=eS.cwd();else{var n;n=eD.getStreamFromFD(e).path}if(0==r.length){if(!t)throw new eS.ErrnoError(44);return n}return n+"/"+r},writeStat(e,r){f[e>>2]=r.dev,f[e+4>>2]=r.mode,h[e+8>>2]=r.nlink,f[e+12>>2]=r.uid,f[e+16>>2]=r.gid,f[e+20>>2]=r.rdev,v[e+24>>3]=BigInt(r.size),f[e+32>>2]=4096,f[e+36>>2]=r.blocks;var t=r.atime.getTime(),n=r.mtime.getTime(),o=r.ctime.getTime();return v[e+40>>3]=BigInt(Math.floor(t/1e3)),h[e+48>>2]=t%1e3*1e6,v[e+56>>3]=BigInt(Math.floor(n/1e3)),h[e+64>>2]=n%1e3*1e6,v[e+72>>3]=BigInt(Math.floor(o/1e3)),h[e+80>>2]=o%1e3*1e6,v[e+88>>3]=BigInt(r.ino),0},writeStatFs(e,r){f[e+4>>2]=r.bsize,f[e+40>>2]=r.bsize,f[e+8>>2]=r.blocks,f[e+12>>2]=r.bfree,f[e+16>>2]=r.bavail,f[e+20>>2]=r.files,f[e+24>>2]=r.ffree,f[e+28>>2]=r.fsid,f[e+44>>2]=r.flags,f[e+36>>2]=r.namelen},doMsync(e,r,t,n,o){if(!eS.isFile(r.node.mode))throw new eS.ErrnoError(43);if(2&n)return 0;var a=d.slice(e,e+t);eS.msync(r,a,o,t,n)},getStreamFromFD:e=>eS.getStreamChecked(e),varargs:void 0,getStr:e=>eo(e)},ex=e=>{if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e},eM=e=>{for(var r="",t=e;d[t];)r+=E[d[t++]];return r},eL={},eT={},ez={},eR=e=>{throw new k(e)},eN=e=>{throw new b(e)},eO=(e,r,t)=>{function n(r){var n=t(r);n.length!==e.length&&eN("Mismatched type converter count");for(var o=0;o<e.length;++o)eI(e[o],n[o])}e.forEach(e=>ez[e]=r);var o=Array(r.length),a=[],i=0;r.forEach((e,r)=>{eT.hasOwnProperty(e)?o[r]=eT[e]:(a.push(e),eL.hasOwnProperty(e)||(eL[e]=[]),eL[e].push(()=>{o[r]=eT[e],++i===a.length&&n(o)}))}),0===a.length&&n(o)};function eI(e,r,t={}){return function(e,r,t={}){var n=r.name;if(e||eR(`type "${n}" must have a positive integer typeid pointer`),eT.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;eR(`Cannot register type '${n}' twice`)}if(eT[e]=r,delete ez[e],eL.hasOwnProperty(e)){var o=eL[e];delete eL[e],o.forEach(e=>e())}}(e,r,t)}var ej=(e,r,t)=>{switch(r){case 1:return t?e=>l[e]:e=>d[e];case 2:return t?e=>c[e>>1]:e=>m[e>>1];case 4:return t?e=>f[e>>2]:e=>h[e>>2];case 8:return t?e=>v[e>>3]:e=>w[e>>3];default:throw TypeError(`invalid integer width (${r}): ${e}`)}},eU=[],eB=[],e$=e=>{e>9&&0==--eB[e+1]&&(eB[e]=void 0,eU.push(e))},eW=e=>(e||eR("Cannot use deleted val. handle = "+e),eB[e]),eq=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let r=eU.pop()||eB.length;return eB[r]=e,eB[r+1]=1,r}}};function eY(e){return this.fromWireType(h[e>>2])}var eX={name:"emscripten::val",fromWireType:e=>{var r=eW(e);return e$(e),r},toWireType:(e,r)=>eq(r),argPackAdvance:8,readValueFromPointer:eY,destructorFunction:null},eH=(e,r)=>{switch(r){case 4:return function(e){return this.fromWireType(p[e>>2])};case 8:return function(e){return this.fromWireType(g[e>>3])};default:throw TypeError(`invalid float width (${r}): ${e}`)}},eV=(e,r)=>Object.defineProperty(r,"name",{value:e}),eG=e=>{for(;e.length;){var r=e.pop();e.pop()(r)}},eK=(e,r,t)=>{if(void 0===e[r].overloadTable){var n=e[r];e[r]=function(...n){return e[r].overloadTable.hasOwnProperty(n.length)||eR(`Function '${t}' called with an invalid number of arguments (${n.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[n.length].apply(this,n)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},eJ=(e,t,n)=>{r.hasOwnProperty(e)?((void 0===n||void 0!==r[e].overloadTable&&void 0!==r[e].overloadTable[n])&&eR(`Cannot register public name '${e}' twice`),eK(r,e,e),r[e].overloadTable.hasOwnProperty(n)&&eR(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),r[e].overloadTable[n]=t):(r[e]=t,r[e].argCount=n)},eQ=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(h[r+4*n>>2]);return t},eZ=(e,t,n)=>{r.hasOwnProperty(e)||eN("Replacing nonexistent public symbol"),void 0!==r[e].overloadTable&&void 0!==n?r[e].overloadTable[n]=t:(r[e]=t,r[e].argCount=n)},e0=[],e1=e=>{var r=e0[e];return r||(e>=e0.length&&(e0.length=e+1),e0[e]=r=_.get(e)),r},e2=(e,r)=>{e=eM(e);var t=e1(r);return"function"!=typeof t&&eR(`unknown function pointer with signature ${e}: ${r}`),t},e4=e=>{var r=rz(e),t=eM(r);return rT(r),t},e6=(e,r)=>{var t=[],n={};throw r.forEach(function e(r){if(!n[r]&&!eT[r]){if(ez[r]){ez[r].forEach(e);return}t.push(r),n[r]=!0}}),new F(`${e}: `+t.map(e4).join([", "]))},e3=e=>{let r=(e=e.trim()).indexOf("(");return -1===r?e:e.slice(0,r)},e5=(e,r,t)=>ep(e,d,r,t),e8="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,e9=(e,r)=>{for(var t=e,n=t>>1,o=n+r/2;!(n>=o)&&m[n];)++n;if((t=n<<1)-e>32&&e8)return e8.decode(d.subarray(e,t));for(var a="",i=0;!(i>=r/2);++i){var s=c[e+2*i>>1];if(0==s)break;a+=String.fromCharCode(s)}return a},e7=(e,r,t)=>{if((t??=0x7fffffff)<2)return 0;for(var n=r,o=(t-=2)<2*e.length?t/2:e.length,a=0;a<o;++a){var i=e.charCodeAt(a);c[r>>1]=i,r+=2}return c[r>>1]=0,r-n},re=e=>2*e.length,rr=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var o=f[e+4*t>>2];if(0==o)break;if(++t,o>=65536){var a=o-65536;n+=String.fromCharCode(55296|a>>10,56320|1023&a)}else n+=String.fromCharCode(o)}return n},rt=(e,r,t)=>{if((t??=0x7fffffff)<4)return 0;for(var n=r,o=n+t-4,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),f[r>>2]=i,(r+=4)+4>o)break}return f[r>>2]=0,r-n},rn=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},ro={},ra=e=>{var r=ro[e];return void 0===r?eM(e):r},ri=(e,r)=>{var t=eT[e];return void 0===t&&eR(`${r} has unknown type ${e4(e)}`),t},rs=e=>e%4==0&&(e%100!=0||e%400==0),ru=[0,31,60,91,121,152,182,213,244,274,305,335],rl=[0,31,59,90,120,151,181,212,243,273,304,334],rd=e=>(rs(e.getFullYear())?ru:rl)[e.getMonth()]+e.getDate()-1,rc=e=>e<-0x20000000000000||e>0x20000000000000?NaN:Number(e),rm=e=>{if(e instanceof H||"unwind"==e)return u;M(1,e)},rf=()=>Z||!1,rh=e=>{u=e,rf()||(r.onExit?.(e),N=!0),M(e,new H(e))},rp=(e,r)=>{u=e,rh(e)},rv=()=>{if(!rf())try{rp(u)}catch(e){rm(e)}},rw=e=>{if(!N)try{e(),rv()}catch(e){rm(e)}},rg=(e,r)=>setTimeout(()=>{rw(e)},r),ry=e=>{ry.shown||={},ry.shown[e]||(ry.shown[e]=1,z(e))},rE={useWebGL:!1,isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],preloadedImages:{},preloadedAudios:{},getCanvas:()=>r.canvas,init(){if(!rE.initted){rE.initted=!0;var e={};e.canHandle=function(e){return!r.noImageDecoding&&/\.(jpg|jpeg|png|bmp|webp)$/i.test(e)},e.handle=function(e,r,t,n){var o=new Blob([e],{type:rE.getMimetype(r)});o.size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:rE.getMimetype(r)}));var a=URL.createObjectURL(o),i=new Image;i.onload=()=>{var n=document.createElement("canvas");n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),rE.preloadedImages[r]=n,URL.revokeObjectURL(a),t?.(e)},i.onerror=e=>{z(`Image ${a} could not be decoded`),n?.()},i.src=a},eF.push(e);var t={};t.canHandle=function(e){return!r.noAudioDecoding&&e.slice(-4)in{".ogg":1,".wav":1,".mp3":1}},t.handle=function(e,r,t,n){var o=!1;function a(n){o||(o=!0,rE.preloadedAudios[r]=n,t?.(e))}var i=new Blob([e],{type:rE.getMimetype(r)}),s=URL.createObjectURL(i),u=new Audio;u.addEventListener("canplaythrough",()=>a(u),!1),u.onerror=function(t){o||(z(`warning: browser could not fully decode audio ${r}, trying slower base64 approach`),u.src="data:audio/x-"+r.slice(-3)+";base64,"+function(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",n=0,o=0,a=0;a<e.length;a++)for(n=n<<8|e[a],o+=8;o>=6;){var i=n>>o-6&63;o-=6,t+=r[i]}return 2==o?(t+=r[(3&n)<<4],t+="=="):4==o&&(t+=r[(15&n)<<2],t+="="),t}(e),a(u))},u.src=s,rg(()=>{a(u)},1e4)},eF.push(t);var n=rE.getCanvas();n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",o,!1),document.addEventListener("mozpointerlockchange",o,!1),document.addEventListener("webkitpointerlockchange",o,!1),document.addEventListener("mspointerlockchange",o,!1),r.elementPointerLock&&n.addEventListener("click",e=>{!rE.pointerLock&&rE.getCanvas().requestPointerLock&&(rE.getCanvas().requestPointerLock(),e.preventDefault())},!1))}function o(){var e=rE.getCanvas();rE.pointerLock=document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e||document.msPointerLockElement===e}},createContext(e,t,n,o){if(t&&r.ctx&&e==rE.getCanvas())return r.ctx;if(t){var a,i,s={antialias:!1,alpha:!1,majorVersion:1};if(o)for(var u in o)s[u]=o[u];"undefined"!=typeof GL&&(i=GL.createContext(e,s))&&(a=GL.getContext(i).GLctx)}else a=e.getContext("2d");return a?(n&&(r.ctx=a,t&&GL.makeContextCurrent(i),rE.useWebGL=t,rE.moduleContextCreatedCallbacks.forEach(e=>e()),rE.init()),a):null},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,t){rE.lockPointer=e,rE.resizeCanvas=t,void 0===rE.lockPointer&&(rE.lockPointer=!0),void 0===rE.resizeCanvas&&(rE.resizeCanvas=!1);var n=rE.getCanvas();function o(){rE.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=rE.exitFullscreen,rE.lockPointer&&n.requestPointerLock(),rE.isFullscreen=!0,rE.resizeCanvas?rE.setFullscreenCanvasSize():rE.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),rE.resizeCanvas?rE.setWindowedCanvasSize():rE.updateCanvasDimensions(n)),r.onFullScreen?.(rE.isFullscreen),r.onFullscreen?.(rE.isFullscreen)}rE.fullscreenHandlersInstalled||(rE.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",o,!1),document.addEventListener("mozfullscreenchange",o,!1),document.addEventListener("webkitfullscreenchange",o,!1),document.addEventListener("MSFullscreenChange",o,!1));var a=document.createElement("div");n.parentNode.insertBefore(a,n),a.appendChild(n),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},exitFullscreen:()=>!!rE.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0),safeSetTimeout:(e,r)=>rg(e,r),getMimetype:e=>({jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"})[e.slice(e.lastIndexOf(".")+1)],getUserMedia(e){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(e)},getMovementX:e=>e.movementX||e.mozMovementX||e.webkitMovementX||0,getMovementY:e=>e.movementY||e.mozMovementY||e.webkitMovementY||0,getMouseWheelDelta(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,r){var t=rE.getCanvas(),n=t.getBoundingClientRect(),o=void 0!==window.scrollX?window.scrollX:window.pageXOffset,a=void 0!==window.scrollY?window.scrollY:window.pageYOffset,i=e-(o+n.left),s=r-(a+n.top);return{x:i*=t.width/n.width,y:s*=t.height/n.height}},setMouseCoords(e,r){let{x:t,y:n}=rE.calculateMouseCoords(e,r);rE.mouseMovementX=t-rE.mouseX,rE.mouseMovementY=n-rE.mouseY,rE.mouseX=t,rE.mouseY=n},calculateMouseEvent(e){if(rE.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?rE.mouseMovementX=rE.mouseMovementY=0:(rE.mouseMovementX=rE.getMovementX(e),rE.mouseMovementY=rE.getMovementY(e)),rE.mouseX+=rE.mouseMovementX,rE.mouseY+=rE.mouseMovementY;else{if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var r=e.touch;if(void 0===r)return;var t=rE.calculateMouseCoords(r.pageX,r.pageY);if("touchstart"===e.type)rE.lastTouches[r.identifier]=t,rE.touches[r.identifier]=t;else if("touchend"===e.type||"touchmove"===e.type){var n=rE.touches[r.identifier];n||=t,rE.lastTouches[r.identifier]=n,rE.touches[r.identifier]=t}return}rE.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=rE.getCanvas();rE.resizeListeners.forEach(r=>r(e.width,e.height))},setCanvasSize(e,r,t){var n=rE.getCanvas();rE.updateCanvasDimensions(n,e,r),t||rE.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if("undefined"!=typeof SDL){var e=h[SDL.screen>>2];e|=8388608,f[SDL.screen>>2]=e}rE.updateCanvasDimensions(rE.getCanvas()),rE.updateResizeListeners()},setWindowedCanvasSize(){if("undefined"!=typeof SDL){var e=h[SDL.screen>>2];e&=-8388609,f[SDL.screen>>2]=e}rE.updateCanvasDimensions(rE.getCanvas()),rE.updateResizeListeners()},updateCanvasDimensions(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var o=t,a=n;if(r.forcedAspectRatio>0&&(o/a<r.forcedAspectRatio?o=Math.round(a*r.forcedAspectRatio):a=Math.round(o/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var i=Math.min(screen.width/o,screen.height/a);o=Math.round(o*i),a=Math.round(a*i)}rE.resizeCanvas?(e.width!=o&&(e.width=o),e.height!=a&&(e.height=a),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),void 0!==e.style&&(o!=t||a!=n?(e.style.setProperty("width",o+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},rk=(e,r,t)=>{e=em.resolve(e);var n=rE.preloadedImages[e];if(!n)return 0;var o=n.getContext("2d").getImageData(0,0,n.width,n.height),a=rL(n.width*n.height*4);return d.set(o.data,a),f[r>>2]=n.width,f[t>>2]=n.height,a},rb=()=>0x80000000,r_=e=>{var r=(e-s.buffer.byteLength+65535)/65536|0;try{return s.grow(r),O(),1}catch(e){}},rF={},rP=()=>x||"./this.program",rC=()=>{if(!rC.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:rP()};for(var r in rF)void 0===rF[r]?delete e[r]:e[r]=rF[r];var t=[];for(var r in e)t.push(`${r}=${e[r]}`);rC.strings=t}return rC.strings},rA=(e,r)=>{for(var t=0;t<e.length;++t)l[r++]=e.charCodeAt(t);l[r]=0},rS=(e,r,t,n)=>{for(var o=0,a=0;a<t;a++){var i=h[r>>2],s=h[r+4>>2];r+=8;var u=eS.read(e,l,i,s,n);if(u<0)return -1;if(o+=u,u<s)break;void 0!==n&&(n+=u)}return o},rD=(e,r,t,n)=>{for(var o=0,a=0;a<t;a++){var i=h[r>>2],s=h[r+4>>2];r+=8;var u=eS.write(e,l,i,s,n);if(u<0)return -1;if(o+=u,u<s)break;void 0!==n&&(n+=u)}return o};eS.createPreloadedFile=(e,r,t,n,o,a,i,s,u,l)=>{var d=r?em.resolve(el.join2(e,r)):e,c=`cp ${d}`;function m(t){function m(t){l?.(),s||e_(e,r,t,n,o,u),a?.(),B(c)}!eP(t,d,m,()=>{i?.(),B(c)})&&m(t)}U(c),"string"==typeof t?eb(t).then(m,i):m(t)},eS.staticInit(),ek.doesNotExistError=new eS.ErrnoError(44),ek.doesNotExistError.stack="<generic error, no stack>",(()=>{for(var e=Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);E=e})(),k=r.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},b=r.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},eB.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=()=>eB.length/2-5-eU.length,P=Error,(A=eV(C="UnboundTypeError",function(e){this.name=C,this.message=e;var r=Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create(P.prototype),A.prototype.constructor=A,A.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},F=r.UnboundTypeError=A,r.requestFullscreen=rE.requestFullscreen,r.setCanvasSize=rE.setCanvasSize,r.getUserMedia=rE.getUserMedia,r.createContext=rE.createContext;var rx={a:(e,r,t,n)=>$(`Assertion failed: ${eo(e)}, at: `+[r?eo(r):"unknown filename",t,n?eo(n):"unknown function"]),s:(e,r,t)=>{throw new ea(e).init(r,t),ei=e,es++,ei},A:function(e,r,t){eD.varargs=t;try{var n=eD.getStreamFromFD(e);switch(r){case 0:var o=eu();if(o<0)break;for(;eS.streams[o];)o++;return eS.dupStream(n,o).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var o=eu();return n.flags|=o,0;case 12:var o=eu();return c[o+0>>1]=2,0}return -28}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return-e.errno}},N:function(e,r,t){eD.varargs=t;try{var n=eD.getStreamFromFD(e);switch(r){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:if(!n.tty)return -59;return 0;case 21505:if(!n.tty)return -59;if(n.tty.ops.ioctl_tcgets){var o=n.tty.ops.ioctl_tcgets(n),a=eu();f[a>>2]=o.c_iflag||0,f[a+4>>2]=o.c_oflag||0,f[a+8>>2]=o.c_cflag||0,f[a+12>>2]=o.c_lflag||0;for(var i=0;i<32;i++)l[a+i+17]=o.c_cc[i]||0}return 0;case 21506:case 21507:case 21508:if(!n.tty)return -59;if(n.tty.ops.ioctl_tcsets){for(var a=eu(),s=f[a>>2],u=f[a+4>>2],d=f[a+8>>2],m=f[a+12>>2],h=[],i=0;i<32;i++)h.push(l[a+i+17]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:s,c_oflag:u,c_cflag:d,c_lflag:m,c_cc:h})}return 0;case 21519:if(!n.tty)return -59;var a=eu();return f[a>>2]=0,0;case 21520:if(!n.tty)return -59;return -28;case 21531:var a=eu();return eS.ioctl(n,r,a);case 21523:if(!n.tty)return -59;if(n.tty.ops.ioctl_tiocgwinsz){var p=n.tty.ops.ioctl_tiocgwinsz(n.tty),a=eu();c[a>>1]=p[0],c[a+2>>1]=p[1]}return 0;default:return -28}}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return-e.errno}},O:function(e,r,t,n){eD.varargs=n;try{r=eD.getStr(r),r=eD.calculateAt(e,r);var o=n?eu():0;return eS.open(r,t,o).fd}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return-e.errno}},Q:()=>$(""),E:(e,r,t,n,o)=>{var a=-1!=(r=eM(r)).indexOf("u");eI(e,{name:r,fromWireType:e=>e,toWireType:function(e,r){if("bigint"!=typeof r&&"number"!=typeof r)throw TypeError(`Cannot convert "${ex(r)}" to ${this.name}`);return"number"==typeof r&&(r=BigInt(r)),r},argPackAdvance:8,readValueFromPointer:ej(r,t,!a),destructorFunction:null})},Y:(e,r,t,n)=>{eI(e,{name:r=eM(r),fromWireType:function(e){return!!e},toWireType:function(e,r){return r?t:n},argPackAdvance:8,readValueFromPointer:function(e){return this.fromWireType(d[e])},destructorFunction:null})},W:e=>eI(e,eX),D:(e,r,t)=>{eI(e,{name:r=eM(r),fromWireType:e=>e,toWireType:(e,r)=>r,argPackAdvance:8,readValueFromPointer:eH(r,t),destructorFunction:null})},q:(e,r,t,n,o,a,i,s)=>{var u=eQ(r,t);e=e3(e=eM(e)),o=e2(n,o),eJ(e,function(){e6(`Cannot call ${e} due to unbound types`,u)},r-1),eO([],u,t=>{var n,i,s,u,l,d,c,m,f,h,p=[t[0],null].concat(t.slice(1));return eZ(e,(n=e,i=o,(s=p.length)<2&&eR("argTypes array size mismatch! Must at least get return value and 'this' types!"),u=null!==p[1]&&!1,l=function(e){for(var r=1;r<e.length;++r)if(null!==e[r]&&void 0===e[r].destructorFunction)return!0;return!1}(p),d="void"!==p[0].name,m=Array(c=s-2),f=[],h=[],eV(n,function(...e){h.length=0,f.length=u?2:1,f[0]=a,u&&(r=p[1].toWireType(h,this),f[1]=r);for(var r,t=0;t<c;++t)m[t]=p[t+2].toWireType(h,e[t]),f.push(m[t]);return function(e){if(l)eG(h);else for(var t=u?1:2;t<p.length;t++){var n=1===t?r:m[t-2];null!==p[t].destructorFunction&&p[t].destructorFunction(n)}if(d)return p[0].fromWireType(e)}(i(...f))})),r-1),[]})},j:(e,r,t,n,o)=>{r=eM(r),-1===o&&(o=0xffffffff);var a,i=e=>e;if(0===n){var s=32-8*t;i=e=>e<<s>>>s}var u=r.includes("unsigned"),l=(e,r)=>{};eI(e,{name:r,fromWireType:i,toWireType:u?function(e,r){return l(r,this.name),r>>>0}:function(e,r){return l(r,this.name),r},argPackAdvance:8,readValueFromPointer:ej(r,t,0!==n),destructorFunction:null})},f:(e,r,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];function o(e){var r=h[e>>2],t=h[e+4>>2];return new n(l.buffer,t,r)}eI(e,{name:t=eM(t),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},X:(e,r)=>{eI(e,{name:r=eM(r),fromWireType(e){for(var r,t,n=h[e>>2],o=e+4,a=o,r=0;r<=n;++r){var i=o+r;if(r==n||0==d[i]){var s=i-a,u=eo(a,s);void 0===t?t=u:(t+="\0",t+=u),a=i+1}}return rT(e),t},toWireType(e,r){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var t,n="string"==typeof r;n||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||eR("Cannot pass non-string to std::string");var o=rL(4+(t=n?eh(r):r.length)+1),a=o+4;if(h[o>>2]=t,n)e5(r,a,t+1);else if(n)for(var i=0;i<t;++i){var s=r.charCodeAt(i);s>255&&(rT(o),eR("String has UTF-16 code units that do not fit in 8 bits")),d[a+i]=s}else for(var i=0;i<t;++i)d[a+i]=r[i];return null!==e&&e.push(rT,o),o},argPackAdvance:8,readValueFromPointer:eY,destructorFunction(e){rT(e)}})},v:(e,r,t)=>{var n,o,a,i;t=eM(t),2===r?(n=e9,o=e7,i=re,a=e=>m[e>>1]):4===r&&(n=rr,o=rt,i=rn,a=e=>h[e>>2]),eI(e,{name:t,fromWireType:e=>{for(var t,o=h[e>>2],i=e+4,s=0;s<=o;++s){var u=e+4+s*r;if(s==o||0==a(u)){var l=u-i,d=n(i,l);void 0===t?t=d:(t+="\0",t+=d),i=u+r}}return rT(e),t},toWireType:(e,n)=>{"string"!=typeof n&&eR(`Cannot pass non-string to C++ string type ${t}`);var a=i(n),s=rL(4+a+r);return h[s>>2]=a/r,o(n,s+4,a+r),null!==e&&e.push(rT,s),s},argPackAdvance:8,readValueFromPointer:eY,destructorFunction(e){rT(e)}})},Z:(e,r)=>{eI(e,{isVoid:!0,name:r=eM(r),argPackAdvance:0,fromWireType:()=>void 0,toWireType:(e,r)=>void 0})},F:()=>{throw 1/0},i:e$,o:e=>eq(ra(e)),da:()=>eq({}),n:(e,r,t)=>{e=eW(e),r=eW(r),t=eW(t),e[r]=t},p:(e,r)=>eq((e=ri(e,"_emval_take_value")).readValueFromPointer(r)),H:function(e,r){var t=new Date(1e3*(e=rc(e)));f[r>>2]=t.getSeconds(),f[r+4>>2]=t.getMinutes(),f[r+8>>2]=t.getHours(),f[r+12>>2]=t.getDate(),f[r+16>>2]=t.getMonth(),f[r+20>>2]=t.getFullYear()-1900,f[r+24>>2]=t.getDay();var n=0|rd(t);f[r+28>>2]=n,f[r+36>>2]=-(60*t.getTimezoneOffset());var o=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=o.getTimezoneOffset(),s=0|(a!=i&&t.getTimezoneOffset()==Math.min(i,a));f[r+32>>2]=s},I:(e,r,t,n)=>{var o=new Date().getFullYear(),a=new Date(o,0,1),i=new Date(o,6,1),s=a.getTimezoneOffset(),u=i.getTimezoneOffset(),l=Math.max(s,u);h[e>>2]=60*l,f[r>>2]=Number(s!=u);var d=e=>{var r=Math.abs(e),t=String(Math.floor(r/60)).padStart(2,"0"),n=String(r%60).padStart(2,"0");return`UTC${e>=0?"-":"+"}${t}${n}`},c=d(s),m=d(u);u<s?(e5(c,t,17),e5(m,n,17)):(e5(c,n,17),e5(m,t,17))},P:()=>Date.now(),x:()=>performance.now(),V:(e,r,t)=>{var n=rR(e),o=eS.getStream(n);return o?rk(o.path,r,t):0},S:()=>0,G:e=>{var r=d.length;e>>>=0;var t=rb();if(e>t)return!1;for(var n=1;n<=4;n*=2){var o=r*(1+.2/n);if(o=Math.min(o,e+0x6000000),r_(Math.min(t,ey(Math.max(e,o),65536))))return!0}return!1},R:()=>{throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},K:(e,r)=>{var t=0;return rC().forEach((n,o)=>{var a=r+t;h[e+4*o>>2]=a,rA(n,a),t+=n.length+1}),0},L:(e,r)=>{var t=rC();h[e>>2]=t.length;var n=0;return t.forEach(e=>n+=e.length+1),h[r>>2]=n,0},T:rp,y:function(e){try{var r=eD.getStreamFromFD(e);return eS.close(r),0}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return e.errno}},M:function(e,r,t,n){try{var o=eD.getStreamFromFD(e),a=rS(o,r,t);return h[n>>2]=a,0}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return e.errno}},J:function(e,r,t,n){r=rc(r);try{if(isNaN(r))return 61;var o=eD.getStreamFromFD(e);return eS.llseek(o,r,t),v[n>>3]=BigInt(o.position),o.getdents&&0===r&&0===t&&(o.getdents=null),0}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return e.errno}},z:function(e,r,t,n){try{var o=eD.getStreamFromFD(e),a=rD(o,r,t);return h[n>>2]=a,0}catch(e){if(void 0===eS||"ErrnoError"!==e.name)throw e;return e.errno}},e:function(e,r){var t=er();try{return e1(e)(r)}catch(e){if(ee(t),e!==e+0)throw e;rN(1,0)}},c:function(e,r,t){var n=er();try{return e1(e)(r,t)}catch(e){if(ee(n),e!==e+0)throw e;rN(1,0)}},l:function(e,r,t,n){var o=er();try{return e1(e)(r,t,n)}catch(e){if(ee(o),e!==e+0)throw e;rN(1,0)}},m:function(e,r,t,n,o){var a=er();try{return e1(e)(r,t,n,o)}catch(e){if(ee(a),e!==e+0)throw e;rN(1,0)}},U:function(e,r,t,n,o,a){var i=er();try{return e1(e)(r,t,n,o,a)}catch(e){if(ee(i),e!==e+0)throw e;rN(1,0)}},t:function(e,r,t,n,o,a,i,s,u){var l=er();try{return e1(e)(r,t,n,o,a,i,s,u)}catch(e){if(ee(l),e!==e+0)throw e;rN(1,0)}},B:function(e,r,t,n,o,a,i,s,u,l){var d=er();try{return e1(e)(r,t,n,o,a,i,s,u,l)}catch(e){if(ee(d),e!==e+0)throw e;rN(1,0)}},aa:function(e,r,t,n,o,a,i,s,u,l,d){var c=er();try{return e1(e)(r,t,n,o,a,i,s,u,l,d)}catch(e){if(ee(c),e!==e+0)throw e;rN(1,0)}},ca:function(e,r,t,n,o,a,i,s,u,l,d,c){var m=er();try{return e1(e)(r,t,n,o,a,i,s,u,l,d,c)}catch(e){if(ee(m),e!==e+0)throw e;rN(1,0)}},ba:function(e,r,t,n,o,a){var i=er();try{return e1(e)(r,t,n,o,a)}catch(e){if(ee(i),e!==e+0)throw e;rN(1,0)}},C:function(e,r){var t=er();try{return e1(e)(r)}catch(e){if(ee(t),e!==e+0)throw e;return rN(1,0),0n}},u:function(e,r,t,n){var o=er();try{return e1(e)(r,t,n)}catch(e){if(ee(o),e!==e+0)throw e;return rN(1,0),0n}},d:function(e,r){var t=er();try{e1(e)(r)}catch(e){if(ee(t),e!==e+0)throw e;rN(1,0)}},g:function(e,r,t){var n=er();try{e1(e)(r,t)}catch(e){if(ee(n),e!==e+0)throw e;rN(1,0)}},h:function(e,r,t,n){var o=er();try{e1(e)(r,t,n)}catch(e){if(ee(o),e!==e+0)throw e;rN(1,0)}},b:function(e,r,t,n,o){var a=er();try{e1(e)(r,t,n,o)}catch(e){if(ee(a),e!==e+0)throw e;rN(1,0)}},k:function(e,r,t,n,o,a){var i=er();try{e1(e)(r,t,n,o,a)}catch(e){if(ee(i),e!==e+0)throw e;rN(1,0)}},r:function(e,r,t,n,o,a,i,s){var u=er();try{e1(e)(r,t,n,o,a,i,s)}catch(e){if(ee(u),e!==e+0)throw e;rN(1,0)}},$:function(e,r,t,n,o,a,i,s,u){var l=er();try{e1(e)(r,t,n,o,a,i,s,u)}catch(e){if(ee(l),e!==e+0)throw e;rN(1,0)}},w:function(e,r,t,n,o,a,i,s,u,l){var d=er();try{e1(e)(r,t,n,o,a,i,s,u,l)}catch(e){if(ee(d),e!==e+0)throw e;rN(1,0)}},_:function(e,r,t,n,o,a,i,s,u,l,d,c){var m=er();try{e1(e)(r,t,n,o,a,i,s,u,l,d,c)}catch(e){if(ee(m),e!==e+0)throw e;rN(1,0)}}},rM=await X();rM.fa;var rL=rM.ha,rT=rM.ia,rz=rM.ja,rR=rM.ka,rN=rM.la,rO=rM.ma,rI=rM.na;if(r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return function e(){if(I>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)Q(r.preRun.shift());V(J)}(),I>0)){j=e;return}function t(){r.calledRun=!0,N||(r.noFSInit||eS.initialized||eS.init(),eg.init(),rM.fa(),eS.ignorePermissions=!1,n(r),r.onRuntimeInitialized?.(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)K(r.postRun.shift());V(G)}())}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),t()},1)):t()}(),S}}}),u=(e,r,t)=>{let n=l.id++;return new Promise(o=>{e.addEventListener("message",e=>{let r=e.data;"callback_result"===r.type&&r.payload.id===n&&o(r.payload.result)},{once:!0}),e.postMessage({type:"callback",payload:{id:n,index:r,value:t}})})},l={id:0},d=(e,r)=>{let t=e?{...e,data:Uint8Array.from(e.data)}:void 0;return r(),t},c=async({image:e,width:r=0,height:t=0,quality:n=100,format:o="avif",speed:a=6,libImage:i})=>m({image:e,width:r,height:t,quality:n,format:o,speed:a,libImage:i}).then(e=>e?.data),m=async({image:e,width:r=0,height:t=0,quality:n=100,format:o="avif",speed:a=6,libImage:i})=>i.then(({optimize:i,releaseResult:s})=>d(i(e,r,t,n,o,a),s)),f=Promise.resolve().then(()=>(s(),i)).then(e=>e.default({}));(e=>{let r=self;return r.addEventListener("message",async t=>{let n=t.data;if("function"===n.type){let{name:t,value:o,callback:a}=n.payload,i=e[t];if(i)try{let e=o.map((e,t)=>a[t]?(...e)=>u(r,t,e):e);r.postMessage({type:"result",payload:await i(...e)})}catch(e){r.postMessage({type:"error",payload:String(e)})}}}),r.postMessage(void 0)})({optimizeImage:async e=>c({...e,libImage:f}),optimizeImageExt:async e=>m({...e,libImage:f}),launch:()=>f})}}]);